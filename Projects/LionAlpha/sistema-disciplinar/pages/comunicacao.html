<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comunica√ß√£o - Dashboard Disciplinar</title>
    
    <!-- CSS Externos -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    
    <!-- Scripts do Sistema -->
    <script src="../assets/js/local-db.js"></script>
    <script src="../assets/js/local-auth.js"></script>
    <script src="../assets/js/populate-db.js"></script>
</head>

<body>
    <!-- BARRA SUPERIOR -->
    <div class="top-bar">
        <div class="top-bar-left">
            <div class="app-launcher">
                <span></span><span></span><span></span>
                <span></span><span></span><span></span>
                <span></span><span></span><span></span>
            </div>
            <span class="app-name">Dashboard Disciplinar</span>
        </div>
        <div class="top-bar-center">
            <input type="text" class="search-box" placeholder="Pesquisar comunica√ß√µes...">
        </div>
        <div class="top-bar-right">
            <div class="user-profile">A</div>
        </div>
    </div>

    <!-- LAYOUT PRINCIPAL -->
    <div class="main-layout">
        
        <!-- SIDEBAR -->
        <div class="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">M√≥dulos Principais</div>
                
                <a href="../index.html" class="sidebar-item">
                    <span class="sidebar-icon">üè†</span>
                    <span class="sidebar-text">Dashboard</span>
                </a>
                
                
                <a href="gestao-alunos.html" class="sidebar-item">
                    <span class="sidebar-icon">üë•</span>
                    <span class="sidebar-text">Gest√£o de Alunos</span>
                </a>
                
                <a href="medidas-disciplinares.html" class="sidebar-item">
                    <span class="sidebar-icon">üìã</span>
                    <span class="sidebar-text">Medidas Disciplinares</span>
                </a>
                
                <a href="frequencia.html" class="sidebar-item">
                    <span class="sidebar-icon">üìÖ</span>
                    <span class="sidebar-text">Controle de Frequ√™ncia</span>
                </a>
                
                <a href="relatorios.html" class="sidebar-item">
                    <span class="sidebar-icon">üìä</span>
                    <span class="sidebar-text">Relat√≥rios</span>
                </a>
                
                <a href="analises.html" class="sidebar-item">
                    <span class="sidebar-icon">üìà</span>
                    <span class="sidebar-text">An√°lises</span>
                </a>
            </div>
            
            <div class="sidebar-section">
                <div class="sidebar-title">Ferramentas</div>
                
                <a href="configuracoes.html" class="sidebar-item">
                    <span class="sidebar-icon">‚öôÔ∏è</span>
                    <span class="sidebar-text">Configura√ß√µes</span>
                </a>
                
                <a href="comunicacao.html" class="sidebar-item active">
                    <span class="sidebar-icon">üì±</span>
                    <span class="sidebar-text">Comunica√ß√£o</span>
                </a>
                
                <a href="login.html" class="sidebar-item">
                    <span class="sidebar-icon">üîê</span>
                    <span class="sidebar-text">Login/Logout</span>
                </a>
            </div>
        </div>

        <!-- √ÅREA DE CONTE√öDO -->
        <div class="content-area">
            <div class="main-content">
                
                <!-- T√çTULO -->
                <div class="module-title">
                    üì± M√≥dulo de Comunica√ß√£o
                </div>

                <!-- AVISO DE FUNCIONALIDADE -->
                <div class="management-section">
                    <div class="management-title">
                        üöß Funcionalidade em Desenvolvimento
                    </div>
                    <div class="insight-item">
                        <div class="insight-text">
                            Este m√≥dulo est√° sendo desenvolvido e estar√° dispon√≠vel em breve. 
                            Incluir√° funcionalidades para comunica√ß√£o direta com respons√°veis, 
                            envio de notifica√ß√µes autom√°ticas e hist√≥rico de comunica√ß√µes.
                        </div>
                        <span class="trend-indicator trend-stable">
                            üöß Em Breve
                        </span>
                    </div>
                </div>

                <!-- PR√âVIA DAS FUNCIONALIDADES -->
                <div class="quick-stats">
                    <div class="stat-card stat-primary">
                        <div class="stat-icon">üìß</div>
                        <div class="stat-content">
                            <div class="stat-number">Email</div>
                            <div class="stat-label">Notifica√ß√µes Autom√°ticas</div>
                        </div>
                    </div>
                    
                    <div class="stat-card stat-info">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-content">
                            <div class="stat-number">SMS</div>
                            <div class="stat-label">Alertas por Mensagem</div>
                        </div>
                    </div>
                    
                    <div class="stat-card stat-success">
                        <div class="stat-icon">üìû</div>
                        <div class="stat-content">
                            <div class="stat-number">WhatsApp</div>
                            <div class="stat-label">Comunica√ß√£o Direta</div>
                        </div>
                    </div>
                    
                    <div class="stat-card stat-warning">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-content">
                            <div class="stat-number">Relat√≥rios</div>
                            <div class="stat-label">Para Respons√°veis</div>
                        </div>
                    </div>
                </div>

                <!-- FUNCIONALIDADES PLANEJADAS -->
                <div class="management-section">
                    <div class="management-title">
                        üéØ Funcionalidades Planejadas
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">üìß</div>
                                <div class="stat-label">Email Autom√°tico</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Envio autom√°tico de notifica√ß√µes por email quando faltas ou medidas disciplinares s√£o registradas
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">üì±</div>
                                <div class="stat-label">SMS/WhatsApp</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Integra√ß√£o com APIs de SMS e WhatsApp para comunica√ß√£o imediata com respons√°veis
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">üìã</div>
                                <div class="stat-label">Relat√≥rios Personalizados</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Gera√ß√£o autom√°tica de relat√≥rios personalizados para envio aos respons√°veis
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">üîî</div>
                                <div class="stat-label">Portal dos Pais</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Portal web onde respons√°veis podem acompanhar em tempo real a situa√ß√£o dos filhos
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">ü§ñ</div>
                                <div class="stat-label">Chatbot Inteligente</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Bot automatizado para responder d√∫vidas comuns dos respons√°veis 24/7
                            </p>
                        </div>
                        
                        <div class="form-group">
                            <div class="stat-box">
                                <div class="stat-number">üìÖ</div>
                                <div class="stat-label">Agendamento</div>
                            </div>
                            <p style="margin-top: 10px; color: #666; font-size: 14px;">
                                Sistema de agendamento de reuni√µes e comunica√ß√µes programadas
                            </p>
                        </div>
                    </div>
                </div>

                <!-- CONFIGURA√á√ïES FUTURAS -->
                <div class="management-section">
                    <div class="management-title">
                        ‚öôÔ∏è Configura√ß√µes Futuras
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-text">
                            <strong>üìß Templates de Email:</strong> Cria√ß√£o de modelos personalizados para diferentes tipos de comunica√ß√£o
                        </div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-text">
                            <strong>üîî Regras de Notifica√ß√£o:</strong> Configura√ß√£o de quando e como notificar respons√°veis automaticamente
                        </div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-text">
                            <strong>üì± Integra√ß√µes:</strong> Conex√£o com plataformas como WhatsApp Business API, Twilio, SendGrid
                        </div>
                    </div>
                    
                    <div class="insight-item">
                        <div class="insight-text">
                            <strong>üéØ Segmenta√ß√£o:</strong> Comunica√ß√µes diferentes baseadas no tipo de ocorr√™ncia e gravidade
                        </div>
                    </div>
                </div>

                <!-- CRONOGRAMA -->
                <div class="management-section">
                    <div class="management-title">
                        üìÖ Cronograma de Desenvolvimento
                    </div>
                    
                    <div class="table-container">
                        <div class="table-content">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Funcionalidade</th>
                                        <th>Prioridade</th>
                                        <th>Previs√£o</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>üìß Email Autom√°tico</strong></td>
                                        <td><span class="detail-type" style="background: #dc3545; color: white;">Alta</span></td>
                                        <td>Pr√≥xima vers√£o</td>
                                        <td><span class="detail-type" style="background: #ffc107; color: #323130;">Em Desenvolvimento</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>üìã Portal dos Pais</strong></td>
                                        <td><span class="detail-type" style="background: #dc3545; color: white;">Alta</span></td>
                                        <td>Vers√£o 1.1</td>
                                        <td><span class="detail-type" style="background: #6c757d; color: white;">Planejado</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>üì± WhatsApp Integration</strong></td>
                                        <td><span class="detail-type" style="background: #ffc107; color: #323130;">M√©dia</span></td>
                                        <td>Vers√£o 1.2</td>
                                        <td><span class="detail-type" style="background: #6c757d; color: white;">Planejado</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>ü§ñ Chatbot</strong></td>
                                        <td><span class="detail-type" style="background: #28a745; color: white;">Baixa</span></td>
                                        <td>Vers√£o 2.0</td>
                                        <td><span class="detail-type" style="background: #6c757d; color: white;">Planejado</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- FEEDBACK -->
                <div class="management-section">
                    <div class="management-title">
                        üí¨ Sugest√µes e Feedback
                    </div>
                    
                    <form id="formFeedback">
                        <div class="form-group form-group-full">
                            <label class="form-label">Sua Sugest√£o para o M√≥dulo de Comunica√ß√£o:</label>
                            <textarea 
                                id="feedbackText" 
                                class="form-textarea" 
                                placeholder="Descreva suas necessidades de comunica√ß√£o, integra√ß√µes desejadas, ou sugest√µes de melhorias..." 
                                rows="4"
                            ></textarea>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn btn-primary" onclick="enviarFeedback()">
                                üìß Enviar Sugest√£o
                            </button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    
    <script src="../assets/js/main.js" defer></script>
    
    <script>
        // Inicializa√ß√£o da p√°gina
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üì± P√°gina de Comunica√ß√£o carregada');
        });

        function enviarFeedback() {
            const feedback = document.getElementById('feedbackText').value.trim();
            
            if (!feedback) {
                showMessage('Por favor, digite sua sugest√£o', 'error');
                return;
            }
            
            // Simular envio de feedback
            showMessage('‚úÖ Obrigado pela sugest√£o! Ela ser√° considerada no desenvolvimento.', 'success');
            document.getElementById('feedbackText').value = '';
        }

        // Fun√ß√£o global
        window.enviarFeedback = enviarFeedback;
    </script>
    <script>
  document.addEventListener('DOMContentLoaded', () => {
    // Espera o Sistema estar carregado
    const wait = setInterval(() => {
      if (window.localDb && window.localDb.loaded) {
        clearInterval(wait);

        // Verifica usu√°rio logado
        window.localAuth.onAuthStateChanged(user => {
          if (!user) {
            // Se n√£o est√° logado ‚Üí volta para login
            window.location.href = 'login.html'; 
          } else {
            console.log("Usu√°rio logado:", user.email);
            // Aqui voc√™ pode chamar fun√ß√µes de carregamento da p√°gina
            // Exemplo: carregarAlunos();
          }
        });
      }
    }, 100);
  });
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>üìä Naming Dashboard - LinkedIn Strategy Optimizer</title>
    <meta name="description" content="Dashboard interativo para an√°lise e compara√ß√£o de naming strategies para LinkedIn">
    
    <!-- Preload cr√≠tico -->
    <link rel="preload" as="font" href="data:font/woff2;base64," crossorigin>
    
    <style>
        /* CSS cr√≠tico inline - carregamento instant√¢neo */
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;overflow-x:hidden}
        .container{max-width:100%;background:rgba(255,255,255,.98);min-height:100vh;backdrop-filter:blur(10px)}
        .header{background:linear-gradient(135deg,#1a202c,#2d3748);color:#fff;padding:20px 16px;text-align:center;position:sticky;top:0;z-index:100;box-shadow:0 4px 20px rgba(0,0,0,.2)}
        .header h1{font-size:1.8rem;margin-bottom:8px;font-weight:700;background:linear-gradient(90deg,#fff,#e2e8f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        .header p{font-size:.9rem;opacity:.9}
        .tabs{display:flex;border-bottom:1px solid #e2e8f0;background:#fff;overflow-x:auto}
        .tab{flex:1;min-width:100px;padding:12px 8px;text-align:center;background:transparent;border:none;cursor:pointer;font-size:13px;font-weight:600;color:#6b7280;transition:all .3s;white-space:nowrap}
        .tab.active{color:#667eea;border-bottom:3px solid #667eea;background:rgba(102,126,234,.05)}
        .tab:hover{background:rgba(102,126,234,.1)}
        .content{display:none;min-height:70vh}
        .content.active{display:block;animation:fadeIn .5s ease}
        .metrics-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;padding:16px;background:#f8f9fa}
        .metric-card{background:#fff;border-radius:12px;padding:16px;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.05);border:1px solid #e2e8f0;position:relative;overflow:hidden}
        .metric-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,#667eea,#764ba2)}
        .metric-value{font-size:1.6rem;font-weight:700;color:#667eea;margin:4px 0}
        .metric-label{font-size:11px;color:#6b7280;font-weight:600;text-transform:uppercase;letter-spacing:.5px}
        .metric-change{font-size:11px;margin-top:4px;font-weight:600}
        .trend-up{color:#16a34a}
        .trend-down{color:#ef4444}
        .comparison-table{width:100%;border-collapse:collapse;background:#fff;margin:16px 0;border-radius:12px;overflow:hidden;box-shadow:0 2px 15px rgba(0,0,0,.1)}
        .comparison-table th{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:12px 8px;text-align:center;font-weight:600;font-size:11px;text-transform:uppercase;letter-spacing:.5px}
        .comparison-table td{padding:12px 8px;text-align:center;border-bottom:1px solid #f0f0f0;font-size:13px}
        .comparison-table tbody tr:hover{background:#f8f9fa;transform:scale(1.01);transition:all .2s}
        .score{display:inline-block;padding:4px 8px;border-radius:12px;font-weight:700;cursor:pointer;font-size:11px;min-width:35px;transition:all .2s}
        .score:hover{transform:scale(1.1)}
        .score-high{background:#16a34a;color:#fff}
        .score-medium{background:#f59e0b;color:#fff}
        .score-low{background:#ef4444;color:#fff}
        .score-total{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:12px;font-weight:700}
        .winner-badge{background:linear-gradient(135deg,#ffd700,#ffed4e);color:#92400e;padding:2px 6px;border-radius:8px;font-size:9px;font-weight:700;margin-left:4px;animation:pulse 2s infinite}
        .chart-container{padding:16px;background:#fff;margin:16px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,.05)}
        .chart-title{text-align:center;margin-bottom:16px;color:#2d3748;font-weight:600;font-size:14px}
        .radar-chart{max-width:100%;height:250px}
        .insights{padding:16px}
        .insight-card{background:#fff;border-radius:12px;padding:16px;margin-bottom:12px;border-left:4px solid #667eea;box-shadow:0 2px 8px rgba(0,0,0,.05)}
        .insight-title{font-weight:600;color:#2d3748;margin-bottom:8px;font-size:14px;display:flex;align-items:center;gap:8px}
        .insight-desc{color:#4a5568;font-size:13px;line-height:1.5}
        .action-buttons{display:flex;gap:8px;margin:16px;flex-wrap:wrap}
        .btn{padding:10px 16px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s;font-size:13px;display:flex;align-items:center;gap:6px;flex:1;min-width:120px;justify-content:center}
        .btn-primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 3px 10px rgba(102,126,234,.3)}
        .btn-secondary{background:#f3f4f6;color:#4b5563;border:1px solid #d1d5db}
        .btn:active{transform:scale(.98)}
        .btn:hover{transform:translateY(-1px)}
        .empty-state{text-align:center;padding:40px 20px;color:#9ca3af}
        .empty-icon{font-size:3rem;margin-bottom:16px;opacity:.7}
        .loading{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,.9);z-index:999;align-items:center;justify-content:center}
        .spinner{width:32px;height:32px;border:3px solid #f3f3f3;border-top:3px solid #667eea;border-radius:50%;animation:spin 1s linear infinite}
        .tooltip{position:absolute;background:#2d3748;color:#fff;padding:8px 10px;border-radius:6px;font-size:11px;white-space:nowrap;z-index:200;pointer-events:none;opacity:0;transition:opacity .3s}
        .naming-preview{background:linear-gradient(135deg,#f8f9ff,#f3f4ff);border:2px solid #e2e8f0;border-radius:12px;padding:16px;margin:12px 0;cursor:pointer;transition:all .3s}
        .naming-preview:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 15px rgba(102,126,234,.2)}
        .naming-preview.selected{border-color:#667eea;background:linear-gradient(135deg,#eef2ff,#e0e7ff)}
        .preview-title{font-weight:600;color:#2d3748;margin-bottom:4px;font-size:14px}
        .preview-score{color:#667eea;font-size:12px;font-weight:600}
        .preview-desc{color:#6b7280;font-size:11px;margin-top:4px;line-height:1.4}
        
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        
        @media (max-width: 480px) {
            .header{padding:16px 12px}
            .header h1{font-size:1.5rem}
            .metrics-grid{grid-template-columns:1fr;gap:8px;padding:12px}
            .metric-card{padding:12px}
            .metric-value{font-size:1.4rem}
            .comparison-table{font-size:11px}
            .comparison-table th,.comparison-table td{padding:8px 4px}
            .score{padding:3px 6px;font-size:10px;min-width:30px}
            .chart-container{margin:12px;padding:12px}
            .radar-chart{height:200px}
            .action-buttons{flex-direction:column}
            .btn{flex:none;min-width:auto}
        }
        
        @media (max-width: 360px) {
            .header h1{font-size:1.3rem}
            .metric-value{font-size:1.2rem}
            .comparison-table{font-size:10px}
            .tabs{font-size:11px}
            .tab{padding:10px 6px}
        }
    </style>
</head>
<body>
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üìä Naming Strategy Dashboard</h1>
            <p>An√°lise Comparativa LinkedIn - Sistema ROI 3X</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">üìä Vis√£o Geral</button>
            <button class="tab" onclick="showTab('comparison')">‚öñÔ∏è Compara√ß√£o</button>
            <button class="tab" onclick="showTab('analysis')">üìà An√°lise</button>
            <button class="tab" onclick="showTab('insights')">üí° Insights</button>
        </div>

        <!-- Overview Tab -->
        <div id="overview" class="content active">
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value" id="topScore">37</div>
                    <div class="metric-label">Melhor Score</div>
                    <div class="metric-change trend-up">Sistema ROI 3X</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value" id="avgScore">31.5</div>
                    <div class="metric-label">Score M√©dio</div>
                    <div class="metric-change">Entre 7 op√ß√µes</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value" id="conversionLeader">10</div>
                    <div class="metric-label">Convers√£o Top</div>
                    <div class="metric-change trend-up">+25% vs m√©dia</div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value" id="authorityLeader">10</div>
                    <div class="metric-label">Autoridade Top</div>
                    <div class="metric-change">Framework Escala</div>
                </div>
            </div>

            <div class="naming-preview selected" onclick="selectNaming(this, 'roi3x')">
                <div class="preview-title">üèÜ Sistema ROI 3X (Recomendado)</div>
                <div class="preview-score">Score: 37/40 ‚Ä¢ Convers√£o: 10/10 ‚Ä¢ Clareza: 10/10</div>
                <div class="preview-desc">Ideal para gera√ß√£o de leads e demonstra√ß√£o de valor quantific√°vel. Perfeito para empresas focadas em ROI.</div>
            </div>

            <div class="naming-preview" onclick="selectNaming(this, 'framework')">
                <div class="preview-title">üìà Framework de Escala Validado</div>
                <div class="preview-score">Score: 33/40 ‚Ä¢ Autoridade: 10/10 ‚Ä¢ Diferencia√ß√£o: 9/10</div>
                <div class="preview-desc">Excelente para autoridade e diferencia√ß√£o. Atrai clientes que valorizam metodologia estruturada.</div>
            </div>

            <div class="naming-preview" onclick="selectNaming(this, 'receita')">
                <div class="preview-title">üí∞ Acelera√ß√£o de Receita Recorrente</div>
                <div class="preview-score">Score: 33/40 ‚Ä¢ Clareza: 9/10 ‚Ä¢ Convers√£o: 9/10</div>
                <div class="preview-desc">Comunica√ß√£o clara e universal. Ideal para SaaS e empresas de servi√ßos recorrentes.</div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="implementNaming()">
                    üöÄ Implementar Escolhido
                </button>
                <button class="btn btn-secondary" onclick="exportResults()">
                    üì• Exportar An√°lise
                </button>
            </div>
        </div>

        <!-- Comparison Tab -->
        <div id="comparison" class="content">
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th style="text-align: left; min-width: 140px;">Naming Strategy</th>
                        <th>Autoridade</th>
                        <th>Convers√£o</th>
                        <th>Clareza</th>
                        <th>Diferencia√ß√£o</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="comparisonTableBody">
                    <!-- Dados carregados via JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Analysis Tab -->
        <div id="analysis" class="content">
            <div class="chart-container">
                <h3 class="chart-title">üìà An√°lise Radar Comparativa</h3>
                <canvas id="radarChart" class="radar-chart"></canvas>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">üìä Distribui√ß√£o de Scores</h3>
                <canvas id="barChart" class="radar-chart"></canvas>
            </div>
        </div>

        <!-- Insights Tab -->
        <div id="insights" class="content">
            <div class="insights">
                <div class="insight-card">
                    <div class="insight-title">
                        üèÜ <strong>Vencedor Claro: Sistema ROI 3X</strong>
                    </div>
                    <div class="insight-desc">
                        Score total de 37/40 pontos, dominando em convers√£o (10/10) e clareza (10/10). 
                        A promessa num√©rica "3X" cria expectativa clara e mensur√°vel, ideal para CTAs.
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-title">
                        üìà <strong>Padr√£o de Performance</strong>
                    </div>
                    <div class="insight-desc">
                        Namings com n√∫meros espec√≠ficos (3X, 90 Dias) performam 23% melhor em convers√£o. 
                        Evite termos gen√©ricos como "Alta Performance" - score 40% abaixo da m√©dia.
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-title">
                        üéØ <strong>Recomenda√ß√£o para Autoridade</strong>
                    </div>
                    <div class="insight-desc">
                        Se seu objetivo principal √© autoridade, "Framework de Escala Validado" obteve 10/10. 
                        Use em artigos, palestras e content marketing para posicionamento de especialista.
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-title">
                        ‚ö° <strong>Implementa√ß√£o Imediata</strong>
                    </div>
                    <div class="insight-desc">
                        Comece testando "Sistema ROI 3X" por 30 dias. Se convers√£o for <8%, 
                        fa√ßa A/B test com "Acelera√ß√£o de Receita Recorrente". Me√ßa views, conex√µes e mensagens.
                    </div>
                </div>

                <div class="insight-card">
                    <div class="insight-title">
                        üö® <strong>Armadilhas a Evitar</strong>
                    </div>
                    <div class="insight-desc">
                        ‚Ä¢ Nunca use "Consultoria de Alta Performance" - muito gen√©rico<br>
                        ‚Ä¢ Evite mais de 6 palavras no naming principal<br>
                        ‚Ä¢ N√£o mude naming antes de 30 dias de teste
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // Dados dos naming strategies
        const namingData = [
            {
                id: 'roi3x',
                name: 'Sistema ROI 3X',
                scores: { authority: 9, conversion: 10, clarity: 10, differentiation: 8 },
                description: 'Promessa num√©rica clara e ousada',
                color: '#16a34a'
            },
            {
                id: 'framework',
                name: 'Framework de Escala Validado',
                scores: { authority: 10, conversion: 7, clarity: 7, differentiation: 9 },
                description: 'Sugere expertise e metodologia propriet√°ria',
                color: '#667eea'
            },
            {
                id: 'receita',
                name: 'Acelera√ß√£o de Receita Recorrente',
                scores: { authority: 8, conversion: 9, clarity: 9, differentiation: 7 },
                description: 'Comunica√ß√£o clara para SaaS e servi√ßos',
                color: '#f59e0b'
            },
            {
                id: 'performance',
                name: 'Consultoria de Alta Performance',
                scores: { authority: 7, conversion: 6, clarity: 9, differentiation: 5 },
                description: 'Tradicional mas gen√©rico',
                color: '#8b5cf6'
            },
            {
                id: 'faturamento',
                name: 'Metodologia Faturamento Previs√≠vel',
                scores: { authority: 9, conversion: 8, clarity: 8, differentiation: 8 },
                description: 'M√©todo propriet√°rio focado em CFOs',
                color: '#06b6d4'
            },
            {
                id: 'expansao',
                name: 'Programas Expans√£o Estrat√©gica',
                scores: { authority: 7, conversion: 7, clarity: 6, differentiation: 6 },
                description: 'Corporativo mas pouco memor√°vel',
                color: '#84cc16'
            },
            {
                id: 'transformacao',
                name: 'Transforma√ß√£o Executiva 90 Dias',
                scores: { authority: 8, conversion: 9, clarity: 8, differentiation: 8 },
                description: 'Urg√™ncia clara com prazo definido',
                color: '#ef4444'
            }
        ];

        let selectedNaming = 'roi3x';
        let charts = {};

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            showLoading();
            setTimeout(() => {
                initializeDashboard();
                hideLoading();
            }, 800); // Simular carregamento
        });

        function initializeDashboard() {
            populateComparisonTable();
            updateMetrics();
            setupEventListeners();
            setupTooltips();
            
            // Inicializar gr√°ficos quando a aba for clicada
            setTimeout(() => {
                if (document.getElementById('analysis').classList.contains('active')) {
                    createCharts();
                }
            }, 100);
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function populateComparisonTable() {
            const tbody = document.getElementById('comparisonTableBody');
            const sortedData = [...namingData].sort((a, b) => getTotalScore(b) - getTotalScore(a));
            
            tbody.innerHTML = sortedData.map((item, index) => {
                const total = getTotalScore(item);
                const isWinner = index === 0;
                
                return `
                    <tr onclick="selectNamingFromTable('${item.id}')" style="cursor: pointer;">
                        <td style="text-align: left;">
                            <strong>${item.name}</strong>
                            ${isWinner ? '<span class="winner-badge">üèÜ TOP</span>' : ''}
                        </td>
                        <td><span class="score ${getScoreClass(item.scores.authority)}" title="${item.scores.authority}/10">${item.scores.authority}</span></td>
                        <td><span class="score ${getScoreClass(item.scores.conversion)}" title="${item.scores.conversion}/10">${item.scores.conversion}</span></td>
                        <td><span class="score ${getScoreClass(item.scores.clarity)}" title="${item.scores.clarity}/10">${item.scores.clarity}</span></td>
                        <td><span class="score ${getScoreClass(item.scores.differentiation)}" title="${item.scores.differentiation}/10">${item.scores.differentiation}</span></td>
                        <td><span class="score score-total" title="Total: ${total}/40">${total}</span></td>
                    </tr>
                `;
            }).join('');
        }

        function updateMetrics() {
            const scores = namingData.map(getTotalScore);
            const topScore = Math.max(...scores);
            const avgScore = (scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(1);
            
            const topConversion = Math.max(...namingData.map(item => item.scores.conversion));
            const topAuthority = Math.max(...namingData.map(item => item.scores.authority));
            
            document.getElementById('topScore').textContent = topScore;
            document.getElementById('avgScore').textContent = avgScore;
            document.getElementById('conversionLeader').textContent = topConversion;
            document.getElementById('authorityLeader').textContent = topAuthority;
        }

        function showTab(tabName) {
            // Atualizar tabs
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');

            // Mostrar conte√∫do
            document.querySelectorAll('.content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');

            // Criar gr√°ficos se necess√°rio
            if (tabName === 'analysis' && !charts.radar) {
                setTimeout(createCharts, 100);
            }

            // Analytics
            trackTabChange(tabName);
        }

        function createCharts() {
            createRadarChart();
            createBarChart();
        }

        function createRadarChart() {
            const canvas = document.getElementById('radarChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 40;
            
            // Limpar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Labels
            const labels = ['Autoridade', 'Convers√£o', 'Clareza', 'Diferencia√ß√£o'];
            const angles = labels.map((_, i) => (i * 2 * Math.PI) / labels.length - Math.PI / 2);
            
            // Desenhar grid
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 1;
            
            for (let i = 1; i <= 5; i++) {
                const r = (radius * i) / 5;
                ctx.beginPath();
                ctx.arc(centerX, centerY, r, 0, 2 * Math.PI);
                ctx.stroke();
            }
            
            // Linhas dos eixos
            angles.forEach(angle => {
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(
                    centerX + radius * Math.cos(angle),
                    centerY + radius * Math.sin(angle)
                );
                ctx.stroke();
            });
            
            // Labels
            ctx.fillStyle = '#4a5568';
            ctx.font = 'bold 12px -apple-system, BlinkMacSystemFont, sans-serif';
            ctx.textAlign = 'center';
            
            labels.forEach((label, i) => {
                const angle = angles[i];
                const labelRadius = radius + 20;
                const x = centerX + labelRadius * Math.cos(angle);
                const y = centerY + labelRadius * Math.sin(angle);
                ctx.fillText(label, x, y);
            });
            
            // Desenhar dados dos top 3 namings
            const topNamings = [...namingData]
                .sort((a, b) => getTotalScore(b) - getTotalScore(a))
                .slice(0, 3);
            
            topNamings.forEach((naming, index) => {
                const scores = [
                    naming.scores.authority,
                    naming.scores.conversion,
                    naming.scores.clarity,
                    naming.scores.differentiation
                ];
                
                // Desenhar √°rea
                ctx.beginPath();
                scores.forEach((score, i) => {
                    const angle = angles[i];
                    const r = (radius * score) / 10;
                    const x = centerX + r * Math.cos(angle);
                    const y = centerY + r * Math.sin(angle);
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.closePath();
                
                ctx.fillStyle = naming.color + '20';
                ctx.fill();
                ctx.strokeStyle = naming.color;
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // Pontos
                ctx.fillStyle = naming.color;
                scores.forEach((score, i) => {
                    const angle = angles[i];
                    const r = (radius * score) / 10;
                    const x = centerX + r * Math.cos(angle);
                    const y = centerY + r * Math.sin(angle);
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, 2 * Math.PI);
                    ctx.fill();
                });
            });
            
            charts.radar = true;
        }

        function createBarChart() {
            const canvas = document.getElementById('barChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const padding = 40;
            const chartWidth = canvas.width - (padding * 2);
            const chartHeight = canvas.height - (padding * 2);
            
            // Limpar canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Dados
            const sortedData = [...namingData].sort((a, b) => getTotalScore(b) - getTotalScore(a));
            const maxScore = 40;
            const barWidth = chartWidth / sortedData.length * 0.8;
            const barSpacing = chartWidth / sortedData.length * 0.2;
            
            // Desenhar barras
            sortedData.forEach((item, index) => {
                const score = getTotalScore(item);
                const x = padding + (index * (barWidth + barSpacing));
                const barHeight = (score / maxScore) * chartHeight;
                const y = canvas.height - padding - barHeight;
                
                // Gradient
                const gradient = ctx.createLinearGradient(0, y, 0, y + barHeight);
                gradient.addColorStop(0, item.color);
                gradient.addColorStop(1, item.color + '80');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(x, y, barWidth, barHeight);
                
                // Score no topo
                ctx.fillStyle = '#2d3748';
                ctx.font = 'bold 12px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(score, x + barWidth/2, y - 5);
                
                // Nome abreviado
                const shortName = item.name.split(' ')[0];
                ctx.font = '10px -apple-system, BlinkMacSystemFont, sans-serif';
                ctx.save();
                ctx.translate(x + barWidth/2, canvas.height - 10);
                ctx.rotate(-Math.PI/4);
                ctx.fillText(shortName, 0, 0);
                ctx.restore();
            });
            
            charts.bar = true;
        }

        function selectNaming(element, namingId) {
            // Atualizar UI
            document.querySelectorAll('.naming-preview').forEach(preview => {
                preview.classList.remove('selected');
            });
            element.classList.add('selected');
            
            selectedNaming = namingId;
            
            // Feedback visual
            showNotification(`‚úÖ ${getNamingById(namingId).name} selecionado!`, 'success');
            
            // Analytics
            trackNamingSelection(namingId);
        }

        function selectNamingFromTable(namingId) {
            const naming = getNamingById(namingId);
            showNotification(`üìä Analisando: ${naming.name}`, 'info');
            
            // Destacar linha
            const rows = document.querySelectorAll('#comparisonTableBody tr');
            rows.forEach(row => row.style.background = '');
            event.target.closest('tr').style.background = '#f0f9ff';
            
            setTimeout(() => {
                event.target.closest('tr').style.background = '';
            }, 2000);
        }

        function implementNaming() {
            const naming = getNamingById(selectedNaming);
            showNotification(`üöÄ Implementando: ${naming.name}`, 'success');
            
            // Simular implementa√ß√£o
            setTimeout(() => {
                showNotification(`‚úÖ Templates gerados para ${naming.name}!`, 'success');
            }, 2000);
        }

        function exportResults() {
            // Gerar CSV
            const csv = generateAnalysisCSV();
            downloadCSV(csv, `naming-analysis-${new Date().toISOString().split('T')[0]}.csv`);
            showNotification('üì• An√°lise exportada com sucesso!', 'success');
        }

        function generateAnalysisCSV() {
            const headers = ['Naming', 'Autoridade', 'Convers√£o', 'Clareza', 'Diferencia√ß√£o', 'Total', 'Recomenda√ß√£o'];
            const rows = namingData.map(item => [
                item.name,
                item.scores.authority,
                item.scores.conversion,
                item.scores.clarity,
                item.scores.differentiation,
                getTotalScore(item),
                item.description
            ]);

            return [headers, ...rows].map(row => row.join(',')).join('\n');
        }

        function downloadCSV(csv, filename) {
            const blob = new Blob([csv], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function setupEventListeners() {
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.altKey) {
                    switch(e.key) {
                        case '1': showTab('overview'); e.preventDefault(); break;
                        case '2': showTab('comparison'); e.preventDefault(); break;
                        case '3': showTab('analysis'); e.preventDefault(); break;
                        case '4': showTab('insights'); e.preventDefault(); break;
                    }
                }
            });

            // Touch gestures para mobile
            let touchStartX = 0;
            let touchEndX = 0;
            
            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            });
            
            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                handleSwipe();
            });
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const diff = touchStartX - touchEndX;
                
                if (Math.abs(diff) > swipeThreshold) {
                    const tabs = ['overview', 'comparison', 'analysis', 'insights'];
                    const currentTab = document.querySelector('.tab.active').onclick.toString().match(/showTab\('(\w+)'\)/)[1];
                    const currentIndex = tabs.indexOf(currentTab);
                    
                    if (diff > 0 && currentIndex < tabs.length - 1) {
                        // Swipe left - pr√≥xima aba
                        showTab(tabs[currentIndex + 1]);
                        document.querySelectorAll('.tab')[currentIndex + 1].classList.add('active');
                    } else if (diff < 0 && currentIndex > 0) {
                        // Swipe right - aba anterior
                        showTab(tabs[currentIndex - 1]);
                        document.querySelectorAll('.tab')[currentIndex - 1].classList.add('active');
                    }
                }
            }
        }

        function setupTooltips() {
            document.querySelectorAll('.score').forEach(score => {
                score.addEventListener('mouseenter', (e) => {
                    const tooltip = document.getElementById('tooltip');
                    tooltip.textContent = e.target.title || 'Score detalhado';
                    tooltip.style.opacity = '1';
                    tooltip.style.left = e.pageX + 10 + 'px';
                    tooltip.style.top = e.pageY - 30 + 'px';
                });
                
                score.addEventListener('mouseleave', () => {
                    document.getElementById('tooltip').style.opacity = '0';
                });
            });
        }

        function showNotification(message, type) {
            // Criar notifica√ß√£o toast
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                background: ${type === 'success' ? '#16a34a' : type === 'info' ? '#0ea5e9' : '#6b7280'};
                color: white;
                padding: 12px 20px;
                border-radius: 20px;
                font-size: 14px;
                font-weight: 600;
                z-index: 1001;
                box-shadow: 0 4px 20px rgba(0,0,0,0.2);
                animation: slideDown 0.3s ease;
            `;
            toast.textContent = message;
            
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 2500);
            
            // Vibra√ß√£o no mobile
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
        }

        // Utility functions
        function getTotalScore(naming) {
            const scores = naming.scores;
            return scores.authority + scores.conversion + scores.clarity + scores.differentiation;
        }

        function getScoreClass(score) {
            if (score >= 9) return 'score-high';
            if (score >= 7) return 'score-medium';
            return 'score-low';
        }

        function getNamingById(id) {
            return namingData.find(item => item.id === id);
        }

        function trackTabChange(tabName) {
            console.log('Tab changed:', tabName);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'tab_change', {
                    event_category: 'naming_dashboard',
                    event_label: tabName
                });
            }
        }

        function trackNamingSelection(namingId) {
            console.log('Naming selected:', namingId);
            
            if (typeof gtag !== 'undefined') {
                gtag('event', 'naming_selection', {
                    event_category: 'naming_dashboard',
                    event_label: namingId
                });
            }
        }

        // CSS animations via JavaScript
        const animationCSS = `
            @keyframes slideDown {
                from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                to { opacity: 1; transform: translateX(-50%) translateY(0); }
            }
            @keyframes slideUp {
                from { opacity: 1; transform: translateX(-50%) translateY(0); }
                to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
            }
        `;
        
        const style = document.createElement('style');
        style.textContent = animationCSS;
        document.head.appendChild(style);

        // PWA support
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js').catch(() => {});
        }

        // Performance monitoring
        window.addEventListener('load', () => {
            if ('performance' in window) {
                const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
                console.log(`Dashboard carregado em ${loadTime}ms`);
            }
        });
    </script>
</body>
</html>
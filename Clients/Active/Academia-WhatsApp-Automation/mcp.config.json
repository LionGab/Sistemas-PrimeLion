{
  "mcp_servers": {
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "POSTGRES_CONNECTION_STRING": "postgresql://user:pass@localhost:5432/academia_whatsapp_db"
      },
      "description": "Acesso direto ao banco PostgreSQL para consultas complexas e relatórios",
      "capabilities": ["database_query", "analytics", "member_data"],
      "priority": "high"
    },

    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem"],
      "env": {
        "ALLOWED_DIRECTORIES": [
          "/logs",
          "/reports",
          "/backups",
          "/templates",
          "/config"
        ]
      },
      "description": "Gerenciar arquivos de log, relatórios e backups do sistema",
      "capabilities": ["file_operations", "log_analysis", "backup_management"],
      "priority": "medium"
    },

    "brave_search": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-brave-search"],
      "env": {
        "BRAVE_API_KEY": "${BRAVE_API_KEY}"
      },
      "description": "Pesquisar tendências fitness, concorrentes e oportunidades de mercado",
      "capabilities": ["market_research", "competitor_analysis", "trend_discovery"],
      "priority": "low",
      "usage": "on_demand"
    },

    "gmail": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-gmail"],
      "env": {
        "GMAIL_CREDENTIALS_FILE": "/config/gmail_credentials.json",
        "GMAIL_TOKEN_FILE": "/config/gmail_token.json"
      },
      "description": "Enviar relatórios automáticos e notificações por email",
      "capabilities": ["email_automation", "report_delivery", "alert_system"],
      "priority": "medium"
    },

    "google_drive": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-gdrive"],
      "env": {
        "GOOGLE_DRIVE_CREDENTIALS_FILE": "/config/gdrive_credentials.json",
        "GOOGLE_DRIVE_TOKEN_FILE": "/config/gdrive_token.json"
      },
      "description": "Backup de relatórios e sincronização de planilhas de controle",
      "capabilities": ["document_backup", "spreadsheet_sync", "report_archive"],
      "priority": "medium"
    },

    "slack": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-slack"],
      "env": {
        "SLACK_BOT_TOKEN": "${SLACK_BOT_TOKEN}",
        "SLACK_SIGNING_SECRET": "${SLACK_SIGNING_SECRET}"
      },
      "description": "Notificações internas da equipe sobre performance e alertas",
      "capabilities": ["team_notifications", "performance_alerts", "system_status"],
      "priority": "high"
    },

    "linear": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-linear"],
      "env": {
        "LINEAR_API_KEY": "${LINEAR_API_KEY}",
        "LINEAR_TEAM_ID": "${LINEAR_TEAM_ID}"
      },
      "description": "Gestão de tarefas e bugs do sistema de automação",
      "capabilities": ["task_management", "bug_tracking", "feature_requests"],
      "priority": "medium",
      "usage": "development_only"
    },

    "sentry": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sentry"],
      "env": {
        "SENTRY_DSN": "${SENTRY_DSN}",
        "SENTRY_AUTH_TOKEN": "${SENTRY_AUTH_TOKEN}",
        "SENTRY_ORG": "${SENTRY_ORG}",
        "SENTRY_PROJECT": "${SENTRY_PROJECT}"
      },
      "description": "Monitoramento avançado de erros e performance",
      "capabilities": ["error_monitoring", "performance_tracking", "alert_management"],
      "priority": "high"
    },

    "puppeteer": {
      "command": "npx", 
      "args": ["-y", "@modelcontextprotocol/server-puppeteer"],
      "env": {
        "PUPPETEER_EXECUTABLE_PATH": "/usr/bin/chromium-browser"
      },
      "description": "Web scraping para análise de concorrência e validação de links",
      "capabilities": ["web_scraping", "link_validation", "competitor_monitoring"],
      "priority": "low",
      "usage": "on_demand"
    }
  },

  "integration_rules": {
    "postgres": {
      "auto_connect": true,
      "connection_pool_size": 5,
      "timeout": 30000,
      "triggers": [
        "analytics_requests",
        "member_queries", 
        "revenue_reports",
        "performance_metrics"
      ]
    },

    "filesystem": {
      "auto_connect": true,
      "watch_directories": ["/logs", "/reports"],
      "backup_schedule": "daily",
      "cleanup_policy": "30_days_retention"
    },

    "slack": {
      "auto_connect": true,
      "channels": {
        "alerts": "#academia-alerts",
        "reports": "#academia-reports", 
        "general": "#academia-automation"
      },
      "notification_thresholds": {
        "conversion_rate_drop": 0.05,
        "system_error_rate": 0.02,
        "message_failure_rate": 0.03
      }
    },

    "gmail": {
      "auto_connect": false,
      "daily_reports": true,
      "weekly_summary": true,
      "emergency_alerts": true,
      "recipients": {
        "reports": ["admin@academia.com", "manager@academia.com"],
        "alerts": ["tech@academia.com", "admin@academia.com"]
      }
    },

    "sentry": {
      "auto_connect": true,
      "error_threshold": 10,
      "performance_threshold": 2000,
      "alert_channels": ["slack", "gmail"]
    }
  },

  "automation_workflows": {
    "daily_analytics": {
      "schedule": "0 8 * * *",
      "mcps": ["postgres", "gmail", "slack"],
      "steps": [
        "fetch_daily_metrics",
        "generate_report",
        "send_email_report", 
        "post_slack_summary"
      ]
    },

    "weekly_backup": {
      "schedule": "0 2 * * 0",
      "mcps": ["postgres", "filesystem", "google_drive"],
      "steps": [
        "export_database_backup",
        "compress_logs",
        "upload_to_drive",
        "cleanup_local_files"
      ]
    },

    "competitor_analysis": {
      "schedule": "0 10 * * 1",
      "mcps": ["brave_search", "puppeteer", "google_drive"],
      "steps": [
        "search_competitor_prices",
        "scrape_competitor_offers",
        "generate_analysis_report",
        "save_to_drive"
      ]
    },

    "system_health_check": {
      "schedule": "*/15 * * * *",
      "mcps": ["postgres", "sentry", "slack"],
      "steps": [
        "check_database_health",
        "check_error_rates",
        "validate_queue_status",
        "alert_if_issues"
      ]
    }
  },

  "security": {
    "allowed_operations": [
      "read_analytics",
      "write_reports",
      "send_notifications",
      "backup_data",
      "monitor_errors"
    ],
    "restricted_operations": [
      "delete_member_data",
      "modify_billing_data",
      "access_personal_messages"
    ],
    "audit_log": true,
    "encryption_at_rest": true
  },

  "performance": {
    "connection_timeout": 30000,
    "operation_timeout": 60000,
    "max_concurrent_operations": 10,
    "retry_attempts": 3,
    "retry_delay": 5000
  }
}